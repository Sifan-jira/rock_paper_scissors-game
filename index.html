<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rock paper scissor game</title>

    <style>
        *{
            text-align: center;
        }
    </style>
</head>
<body>
    <h1> Rock Paper Scissors</h1>
    <h3>with computer</h3>

    <div class="btn game">
        <button id="rock">Rock</button>
        <button id="paper">Paper</button>
        <button id="scissor">Scissors</button>
    </div>

    <div class="score">
        <p>player score : </p><p class="playerScore">0</p>
        <p>computer score : </p><p class="computerScore">0</p>

    </div>
    
  <script> 

    //select paper rock and scissors button
    const rock = document.querySelector("#rock");
    const paper = document.querySelector("#paper");
    const scissor = document.querySelector("#scissor");

    //result display div for the game
    const score = document.querySelector(".score");
    const playerScore = document.querySelector(".playerScore");
    const computerScore = document.querySelector(".computerScore");

    
    // round and game winner display 
    const roundWinner = document.createElement("h4");
    const gameWinner = document.createElement("h3");

    const restartGame = document.createElement("button");
    restartGame.textContent = "Restart Game";
    restartGame.addEventListener('click', () => {
        playerScore.textContent = 0;
        computerScore.textContent = 0;

        roundWinner.textContent = "";
        gameWinner.textContent = "";

        rock.removeAttribute('disabled');
        paper.removeAttribute('disabled');
        scissor.removeAttribute('disabled');

        score.removeChild(restartGame);
    })


    

   //rock click button response
    rock.addEventListener('click', () => {
        humanSelection = "rock";
        console.log("you chose : " + humanSelection);
        playGame();

    });

    // paper click button response
    paper.addEventListener('click', () => {
        humanSelection = "paper";
        console.log("You Chose : " + humanSelection);
        playGame();
    });

    // scissor click button response
    scissor.addEventListener('click', () => {
    humanSelection = "scissor";
    console.log("You Chose : " + humanSelection);

    playGame();

    });

    let humanWin = 0;
    let computerWin = 0;

    // add computer choice
    function getComputerChoice(){
            const arrayName = ["paper","rock", "scissor"];
            let randomNumber = Math.floor(Math.random() * 3);
            let randomName = arrayName[randomNumber];
            console.log("computer chose : " + randomName);
            return randomName;
        }

    // Add the logic of the game
    function playGame(){

        //let`s play the game one round
        function playRound(computerChoice, humanChoice){
            if(humanChoice === computerChoice){
                console.log("its tie! try again to win.")
                roundWinner.textContent = "its tie! try again to win.";
            }
            else if(
                (humanChoice === "paper" && computerChoice === "rock") ||
                (humanChoice === "rock" && computerChoice === "scissor") ||
                (humanChoice === "scissor" && computerChoice === "paper")
            ){
                console.log(`you win! ${humanChoice} beats ${computerChoice}`);
                roundWinner.textContent = `you win! ${humanChoice} beats ${computerChoice}`;
                humanWin++;
                playerScore.textContent = humanWin;
            }
            else{
                console.log("you lose!");
                roundWinner.textContent = "you lose";
                computerWin++;
                computerScore.textContent = computerWin;
            }
            score.appendChild(roundWinner);

        }

        let computerSelection = getComputerChoice();
        playRound(computerSelection, humanSelection);


        // add the winner of the game who reach 5 wins first
        if(humanWin == 5){
            gameWinner.textContent = "Game Over, you win.";
            humanWin = 0;
            computerWin = 0;
            roundWinner.textContent = "";
            rock.setAttribute('disabled', 1);
            paper.setAttribute('disabled', 1);
            scissor.setAttribute('disabled', 1);
            score.appendChild(restartGame);
            return;
        }
        else if(computerWin == 5){
            gameWinner.textContent = "Game Over, You lose.";
            humanWin = 0;
            computerWin = 0;
            roundWinner.textContent = "";
            rock.setAttribute('disabled', 1);
            paper.setAttribute('disabled', 1);
            scissor.setAttribute('disabled', 1);
            score.appendChild(restartGame);
            return;
        }
        score.appendChild(gameWinner);
    }

    </script> 
</body>
</html> 